<section class="content-header">
  <h1>
    Contests
    <small>{{ ctrl.contests.length }} contests</small>
  </h1>
  <ol class="breadcrumb">
    <li><a ui-sref="manage"><i class="fa fa-wrench"></i> Manage</a></li>
    <li class="active">Contests</li>
  </ol>
</section>

<section class="content">
  <div class="row">
    <div class="col-md-2">
      <a ui-sref="manage_contest_create" class="btn btn-primary btn-block margin-bottom">Create</a>
      <div class="box box-solid">
        <div class="box-header with-border">
          <h3 class="box-title">Statistics</h3>
          <div class="box-tools">
            <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
            </button>
          </div>
        </div>
        <div class="box-body no-padding">
          <ul class="nav nav-pills nav-stacked">
            <li><a href="#">[Unavailable]</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="col-md-10">
      <div class="box box-primary">
        <div class="box-header with-border">
          <h3 class="box-title">All Contests</h3>
        </div>
        <div class="box-footer" ng-show="ctrl.contests.length == 0">
          No contests
        </div>
        <div class="box-body no-padding" ng-show="ctrl.contests.length > 0">
          <div class="table-responsive">
            <table class="table table-hover table-striped">
              <tbody>
              <tr>
                <th>Name</th>
                <th style="width:100px">State</th>
                <th style="width:100px">Register</th>
                <th style="width:150px">Start At</th>
                <th style="width:150px">End At</th>
              </tr>
              <tr ng-repeat="contest in ctrl.contests">
                <td><a ui-sref="manage_contest_info({id: contest._id})">{{ contest.name }}</a></td>
                <td>{{ contest.state }}</td>
                <td>{{ contest.regState }}</td>
                <td><span data-balloon="{{ contest.begin | date: 'yyyy-MM-dd (EEE) HH:mm:ss Z' }}">{{ contest.begin | amCalendar }}</span></td>
                <td><span data-balloon="{{ contest.end | date: 'yyyy-MM-dd (EEE) HH:mm:ss Z' }}">{{ contest.end | amCalendar }}</span></td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
